# æ–°é—»ç®¡ç†ç³»ç»Ÿ (News Management System)

ä¸€ä¸ªåŸºäº Spring Boot + React + TypeScript çš„å…¨æ ˆæ–°é—»ç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€æ–°é—»å‘å¸ƒã€ç¼–è¾‘å’Œåˆ é™¤ç­‰åŠŸèƒ½ã€‚

## ğŸ“‹ ç›®å½•

- [é¡¹ç›®æ¶æ„](#é¡¹ç›®æ¶æ„)
- [ä¸»è¦åŠŸèƒ½](#ä¸»è¦åŠŸèƒ½)
- [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
- [è¿è¡Œé€»è¾‘](#è¿è¡Œé€»è¾‘)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

æœ¬é¡¹ç›®é‡‡ç”¨**å‰åç«¯åˆ†ç¦»**æ¶æ„ï¼š

```
newsSystem1/
â”œâ”€â”€ news-management-backend/      # åç«¯ (Spring Boot)
â””â”€â”€ news-management-frontend-ts/  # å‰ç«¯ (React + TypeScript)
```

### æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      HTTP/REST API      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   React     â”‚ â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ â”‚ Spring Boot  â”‚
â”‚  Frontend   â”‚      (JWT Token)         â”‚   Backend    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                â†“
                                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                         â”‚  H2 Database â”‚
                                         â”‚  (In-Memory) â”‚
                                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœ¨ ä¸»è¦åŠŸèƒ½

### ç”¨æˆ·åŠŸèƒ½
- âœ… ç”¨æˆ·æ³¨å†Œï¼ˆæ— éœ€é‚®ç®±ï¼‰
- âœ… ç”¨æˆ·ç™»å½•ï¼ˆJWT Token è®¤è¯ï¼‰
- âœ… æŸ¥çœ‹æ‰€æœ‰æ–°é—»ï¼ˆæ— éœ€ç™»å½•ï¼‰
- âœ… å‘å¸ƒæ–°é—»ï¼ˆéœ€ç™»å½•ï¼‰
- âœ… ç¼–è¾‘è‡ªå·±çš„æ–°é—»ï¼ˆéœ€ç™»å½•ï¼‰
- âœ… åˆ é™¤è‡ªå·±çš„æ–°é—»ï¼ˆéœ€ç™»å½•ï¼‰

### ç®¡ç†å‘˜åŠŸèƒ½
- âœ… ç®¡ç†æ‰€æœ‰æ–°é—»ï¼ˆå¢åˆ æ”¹æŸ¥ï¼‰
- âœ… æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·å‘å¸ƒçš„æ–°é—»

### æƒé™æ§åˆ¶
- **æ™®é€šç”¨æˆ· (USER)**ï¼šåªèƒ½ç®¡ç†è‡ªå·±å‘å¸ƒçš„æ–°é—»
- **ç®¡ç†å‘˜ (ADMIN)**ï¼šå¯ä»¥ç®¡ç†æ‰€æœ‰æ–°é—»

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### åç«¯
- **æ¡†æ¶**: Spring Boot 3.x
- **å®‰å…¨**: Spring Security + JWT
- **æ•°æ®åº“**: H2 (å†…å­˜æ•°æ®åº“)
- **ORM**: Spring Data JPA / Hibernate
- **æ„å»ºå·¥å…·**: Maven
- **JDK**: 17+

### å‰ç«¯
- **æ¡†æ¶**: React 18
- **è¯­è¨€**: TypeScript
- **è·¯ç”±**: React Router v6
- **HTTP å®¢æˆ·ç«¯**: Axios
- **æ ·å¼**: Vanilla CSS (ç°ä»£è®¾è®¡ç³»ç»Ÿ)
- **æ„å»ºå·¥å…·**: Vite

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- **JDK 17** æˆ–æ›´é«˜ç‰ˆæœ¬
- **Node.js 16+** å’Œ **npm**
- **Maven 3.6+**

### 1ï¸âƒ£ å¯åŠ¨åç«¯

```bash
cd news-management-backend

# ç¼–è¯‘é¡¹ç›®
mvn clean compile

# å¯åŠ¨ Spring Boot åº”ç”¨
mvn spring-boot:run
```

åç«¯å°†åœ¨ `http://localhost:8080` å¯åŠ¨ã€‚

**é»˜è®¤ç®¡ç†å‘˜è´¦å·**ï¼š
- ç”¨æˆ·å: `admin`
- å¯†ç : `password`

### 2ï¸âƒ£ å¯åŠ¨å‰ç«¯

```bash
cd news-management-frontend-ts

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

å‰ç«¯å°†åœ¨ `http://localhost:3000` å¯åŠ¨ã€‚

### 3ï¸âƒ£ è®¿é—®åº”ç”¨

æ‰“å¼€æµè§ˆå™¨è®¿é—® `http://localhost:3000`

---

## ğŸ“ é¡¹ç›®ç»“æ„

### åç«¯ç»“æ„

```
news-management-backend/
â”œâ”€â”€ src/main/java/com/example/news/
â”‚   â”œâ”€â”€ config/              # é…ç½®ç±»
â”‚   â”‚   â”œâ”€â”€ SecurityConfig.java      # Spring Security é…ç½®
â”‚   â”‚   â”œâ”€â”€ CORSConfig.java          # CORS è·¨åŸŸé…ç½®
â”‚   â”‚   â””â”€â”€ DataLoader.java          # åˆå§‹åŒ–æ•°æ®
â”‚   â”œâ”€â”€ controller/          # æ§åˆ¶å™¨å±‚
â”‚   â”‚   â”œâ”€â”€ AuthController.java      # è®¤è¯æ¥å£
â”‚   â”‚   â””â”€â”€ NewsController.java      # æ–°é—»æ¥å£
â”‚   â”œâ”€â”€ service/             # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”‚   â”œâ”€â”€ AuthService.java
â”‚   â”‚   â”œâ”€â”€ NewsService.java
â”‚   â”‚   â””â”€â”€ UserDetailsServiceImpl.java
â”‚   â”œâ”€â”€ repository/          # æ•°æ®è®¿é—®å±‚
â”‚   â”‚   â”œâ”€â”€ UserRepository.java
â”‚   â”‚   â””â”€â”€ NewsRepository.java
â”‚   â”œâ”€â”€ model/               # å®ä½“ç±»
â”‚   â”‚   â”œâ”€â”€ User.java
â”‚   â”‚   â””â”€â”€ News.java
â”‚   â”œâ”€â”€ dto/                 # æ•°æ®ä¼ è¾“å¯¹è±¡
â”‚   â”‚   â”œâ”€â”€ LoginRequest.java
â”‚   â”‚   â”œâ”€â”€ RegisterRequest.java
â”‚   â”‚   â””â”€â”€ NewsDTO.java
â”‚   â””â”€â”€ security/            # å®‰å…¨ç›¸å…³
â”‚       â”œâ”€â”€ JwtUtil.java
â”‚       â”œâ”€â”€ JwtAuthenticationFilter.java
â”‚       â””â”€â”€ Role.java
â””â”€â”€ pom.xml
```

### å‰ç«¯ç»“æ„

```
news-management-frontend-ts/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/                 # API è°ƒç”¨
â”‚   â”‚   â””â”€â”€ newsApi.ts
â”‚   â”œâ”€â”€ components/          # å¯å¤ç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Header.tsx
â”‚   â”‚   â”œâ”€â”€ Header.css
â”‚   â”‚   â””â”€â”€ PrivateRoute.tsx
â”‚   â”œâ”€â”€ context/             # React Context
â”‚   â”‚   â””â”€â”€ AuthContext.tsx
â”‚   â”œâ”€â”€ pages/               # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ NewsListPage.tsx
â”‚   â”‚   â”œâ”€â”€ LoginPage.tsx
â”‚   â”‚   â”œâ”€â”€ RegisterPage.tsx
â”‚   â”‚   â””â”€â”€ ManageNewsPage.tsx
â”‚   â”œâ”€â”€ types/               # TypeScript ç±»å‹
â”‚   â”‚   â””â”€â”€ types.ts
â”‚   â”œâ”€â”€ App.tsx              # è·¯ç”±é…ç½®
â”‚   â””â”€â”€ index.css            # å…¨å±€æ ·å¼
â”œâ”€â”€ package.json
â””â”€â”€ vite.config.ts
```

---

## ğŸ”„ è¿è¡Œé€»è¾‘

### è®¤è¯æµç¨‹

```
1. ç”¨æˆ·æ³¨å†Œ/ç™»å½•
   â†“
2. åç«¯éªŒè¯ç”¨æˆ·åå¯†ç 
   â†“
3. ç”Ÿæˆ JWT Token (åŒ…å«ç”¨æˆ·åå’Œè§’è‰²)
   â†“
4. å‰ç«¯ä¿å­˜ Token åˆ° localStorage
   â†“
5. åç»­è¯·æ±‚è‡ªåŠ¨åœ¨ Header ä¸­æºå¸¦ Token
   â†“
6. åç«¯ JwtAuthenticationFilter éªŒè¯ Token
   â†“
7. éªŒè¯é€šè¿‡ï¼Œæ‰§è¡Œä¸šåŠ¡é€»è¾‘
```

### æƒé™æ§åˆ¶

| æ“ä½œ | åŒ¿åç”¨æˆ· | æ™®é€šç”¨æˆ· (USER) | ç®¡ç†å‘˜ (ADMIN) |
|------|---------|----------------|---------------|
| æŸ¥çœ‹æ–°é—» | âœ… | âœ… | âœ… |
| å‘å¸ƒæ–°é—» | âŒ | âœ… | âœ… |
| ç¼–è¾‘è‡ªå·±çš„æ–°é—» | âŒ | âœ… | âœ… |
| åˆ é™¤è‡ªå·±çš„æ–°é—» | âŒ | âœ… | âœ… |
| ç¼–è¾‘ä»–äººçš„æ–°é—» | âŒ | âŒ | âœ… |
| åˆ é™¤ä»–äººçš„æ–°é—» | âŒ | âŒ | âœ… |

### API ç«¯ç‚¹

#### è®¤è¯ç›¸å…³
- `POST /api/auth/register` - ç”¨æˆ·æ³¨å†Œ
- `POST /api/auth/login` - ç”¨æˆ·ç™»å½•

#### æ–°é—»ç›¸å…³
- `GET /api/news` - è·å–æ‰€æœ‰æ–°é—»ï¼ˆæ— éœ€è®¤è¯ï¼‰
- `GET /api/news/{id}` - è·å–å•æ¡æ–°é—»ï¼ˆæ— éœ€è®¤è¯ï¼‰
- `POST /api/news` - åˆ›å»ºæ–°é—»ï¼ˆéœ€è¦ç™»å½•ï¼‰
- `PUT /api/news/{id}` - æ›´æ–°æ–°é—»ï¼ˆéœ€è¦ç™»å½•ï¼Œä»…ä½œè€…æˆ–ç®¡ç†å‘˜ï¼‰
- `DELETE /api/news/{id}` - åˆ é™¤æ–°é—»ï¼ˆéœ€è¦ç™»å½•ï¼Œä»…ä½œè€…æˆ–ç®¡ç†å‘˜ï¼‰

---

## â“ å¸¸è§é—®é¢˜

### 1. åç«¯å¯åŠ¨å¤±è´¥

**é—®é¢˜**: `UserDetailsServiceImpl cannot be resolved to a type`

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ¸…ç†å¹¶é‡æ–°ç¼–è¯‘
mvn clean compile
```

### 2. å‰ç«¯æ— æ³•è¿æ¥åç«¯

**é—®é¢˜**: CORS é”™è¯¯æˆ– Network Error

**è§£å†³æ–¹æ¡ˆ**:
- ç¡®ä¿åç«¯å·²å¯åŠ¨åœ¨ `http://localhost:8080`
- æ£€æŸ¥ `SecurityConfig.java` ä¸­çš„ CORS é…ç½®æ˜¯å¦åŒ…å«å‰ç«¯ç«¯å£
- æ£€æŸ¥ `newsApi.ts` ä¸­çš„ `API_URL` æ˜¯å¦æ­£ç¡®

### 3. ç™»å½•ååˆ·æ–°é¡µé¢è‡ªåŠ¨ç™»å‡º

**é—®é¢˜**: Token æœªæŒä¹…åŒ–

**è§£å†³æ–¹æ¡ˆ**:
- æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰ localStorage ç›¸å…³é”™è¯¯
- ç¡®è®¤ `AuthContext.tsx` æ­£ç¡®ä¿å­˜å’Œè¯»å– Token

### 4. 403 Forbidden é”™è¯¯

**é—®é¢˜**: æƒé™ä¸è¶³

**è§£å†³æ–¹æ¡ˆ**:
- ç¡®è®¤å·²ç™»å½•ï¼ˆæ£€æŸ¥ localStorage ä¸­æ˜¯å¦æœ‰ tokenï¼‰
- ç¡®è®¤å½“å‰ç”¨æˆ·æœ‰æƒé™æ‰§è¡Œè¯¥æ“ä½œ
- å¦‚æœä¿®æ”¹äº†åç«¯ä»£ç ï¼Œ**å¿…é¡»é‡å¯åç«¯æœåŠ¡**

### 5. 405 Method Not Allowed

**é—®é¢˜**: API è·¯å¾„ä¸åŒ¹é…

**è§£å†³æ–¹æ¡ˆ**:
- æ£€æŸ¥å‰ç«¯ API è°ƒç”¨çš„ URL æ˜¯å¦æœ‰å¤šä½™çš„æ–œæ 
- ç¡®è®¤åç«¯ Controller çš„ `@RequestMapping` è·¯å¾„é…ç½®

### 6. ç¼–è¯‘æ—¶ Lombok ç›¸å…³é”™è¯¯

**é—®é¢˜**: æœ¬é¡¹ç›®å·²ç§»é™¤ Lombok ä¾èµ–

**è§£å†³æ–¹æ¡ˆ**:
- æ‰€æœ‰å®ä½“ç±»å·²æ‰‹åŠ¨å®ç° getter/setter
- å¦‚æœé‡åˆ°ç›¸å…³é”™è¯¯ï¼Œæ‰§è¡Œ `mvn clean compile`

---

## ğŸ“ å¼€å‘è¯´æ˜

### æ·»åŠ æ–°åŠŸèƒ½

1. **åç«¯**: åœ¨å¯¹åº”çš„ Service å±‚æ·»åŠ ä¸šåŠ¡é€»è¾‘ï¼Œåœ¨ Controller å±‚æš´éœ² API
2. **å‰ç«¯**: åœ¨ `api/newsApi.ts` ä¸­æ·»åŠ  API è°ƒç”¨æ–¹æ³•ï¼Œåœ¨é¡µé¢ç»„ä»¶ä¸­ä½¿ç”¨

### ä¿®æ”¹æƒé™è§„åˆ™

ç¼–è¾‘ `SecurityConfig.java` ä¸­çš„ `securityFilterChain` æ–¹æ³•ï¼š

```java
.requestMatchers(HttpMethod.POST, "/api/news").authenticated()
```

### è‡ªå®šä¹‰æ ·å¼

å…¨å±€æ ·å¼å˜é‡å®šä¹‰åœ¨ `src/index.css` ä¸­ï¼Œå¯ä»¥ä¿®æ”¹ CSS å˜é‡æ¥è°ƒæ•´ä¸»é¢˜ï¼š

```css
:root {
    --primary-color: #2563eb;
    --background-bg: #f8fafc;
    /* ... */
}
```

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œå‚è€ƒä½¿ç”¨ã€‚

---

## ğŸ‘¨â€ğŸ’» ä½œè€…

å¼€å‘è€…ï¼š[Your Name]

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿æäº¤ Issueï¼
