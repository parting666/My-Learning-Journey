import{At as e,Ct as t,Dt as n,Et as r,It as i,Mt as a,Nt as o,Pt as s,St as c,Tt as l,bt as u,ct as d,et as f,gt as p,jt as m,kt as h,wt as g,xt as _}from"./index-BRCa6BxR.js";var v={class:`max-w-4xl mx-auto py-8 px-4`},y={key:0,class:`bg-yellow-50 border border-yellow-200 p-4 rounded-lg mb-8 text-yellow-800 text-center font-medium`},b={key:1,class:`bg-red-50 border border-red-200 p-4 rounded-lg mb-8 text-red-800 text-center font-medium flex items-center justify-center gap-2`},x={class:`bg-white rounded-xl shadow-sm border border-gray-100 p-6`},S={class:`flex justify-between items-center mb-6`},C={class:`text-xs text-indigo-500 font-bold uppercase tracking-wider`},w={class:`text-right flex flex-col items-end`},T={class:`flex items-center gap-2`},E={key:0,class:`text-right`},D={key:1,class:`text-right`},O={class:`text-2xl font-black text-indigo-600`},k={class:`text-[10px] text-gray-400 font-mono`},A={class:`space-y-4`},j=[`disabled`],M=l({__name:`NativeAssets`,setup(l){let{account:M,signer:N,ethBalance:P,isBalanceLoading:F,networkName:I,lastError:L,updateWalletInfo:R}=f(),z=o(``),B=o(``),V=o(!1),H=async()=>{if(!(!N.value||!z.value||!B.value)){V.value=!0;try{await(await N.value.sendTransaction({to:z.value,value:d(B.value)})).wait(),alert(`Transfer Successful!`),z.value=``,B.value=``,await R()}catch(e){console.error(`Native transfer error:`,e),alert(e.message||`Transfer Failed`)}finally{V.value=!1}}};return e(M,e=>{e&&R()}),e(P,e=>{console.log(`NativeAssets: ethBalance changed to:`,e)}),r(()=>{console.log(`NativeAssets mounted, current account:`,M.value),console.log(`NativeAssets mounted, current ethBalance:`,P.value),M.value&&R()}),(e,r)=>{let o=h(`RouterLink`);return n(),c(`div`,v,[s(M)?_(``,!0):(n(),c(`div`,y,[r[5]||=t(` Please connect your wallet on the `,-1),g(o,{to:`/`,class:`underline font-bold`},{default:m(()=>[...r[4]||=[t(`Home Page`,-1)]]),_:1}),r[6]||=t(` first. `,-1)])),s(L)?(n(),c(`div`,b,[r[7]||=u(`svg`,{xmlns:`http://www.w3.org/2000/svg`,class:`h-5 w-5`,viewBox:`0 0 20 20`,fill:`currentColor`},[u(`path`,{"fill-rule":`evenodd`,d:`M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z`,"clip-rule":`evenodd`})],-1),t(` `+i(s(L))+` `,1),u(`button`,{onClick:r[0]||=(...e)=>s(R)&&s(R)(...e),class:`ml-4 px-3 py-1 bg-red-100 hover:bg-red-200 rounded text-xs transition-colors`},`Retry`)])):_(``,!0),r[14]||=u(`h1`,{class:`text-3xl font-bold text-gray-900 mb-8`},`Native Assets`,-1),u(`section`,x,[u(`div`,S,[u(`div`,null,[r[8]||=u(`h2`,{class:`text-xl font-bold text-gray-800`},`ETH / MATIC Balance`,-1),u(`p`,C,i(s(I)||`Unknown Network`),1)]),u(`div`,w,[r[11]||=u(`p`,{class:`text-sm text-gray-500`},`Your Balance`,-1),u(`div`,T,[s(F)?(n(),c(`div`,E,[...r[9]||=[u(`p`,{class:`text-2xl font-black text-indigo-400 animate-pulse`},`Loading...`,-1)]])):(n(),c(`div`,D,[u(`p`,O,i(parseFloat(s(P)).toFixed(4))+` ETH`,1)])),u(`button`,{onClick:r[1]||=(...e)=>s(R)&&s(R)(...e),class:`p-1 text-gray-400 hover:text-indigo-600 transition-colors rounded-full hover:bg-indigo-50`},[...r[10]||=[u(`svg`,{xmlns:`http://www.w3.org/2000/svg`,class:`h-4 w-4`,fill:`none`,viewBox:`0 0 24 24`,stroke:`currentColor`},[u(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15`})],-1)]])]),u(`p`,k,i(s(M)),1)])]),u(`div`,A,[u(`div`,null,[r[12]||=u(`label`,{class:`block text-sm font-medium text-gray-700 mb-1`},`Recipient Address`,-1),a(u(`input`,{"onUpdate:modelValue":r[2]||=e=>z.value=e,type:`text`,placeholder:`0x...`,class:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none`},null,512),[[p,z.value]])]),u(`div`,null,[r[13]||=u(`label`,{class:`block text-sm font-medium text-gray-700 mb-1`},`Amount`,-1),a(u(`input`,{"onUpdate:modelValue":r[3]||=e=>B.value=e,type:`number`,placeholder:`0.01`,class:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none`},null,512),[[p,B.value]])]),u(`button`,{onClick:H,disabled:!s(M)||V.value,class:`w-full py-2 bg-indigo-600 text-white rounded-lg font-semibold hover:bg-indigo-700 disabled:bg-gray-400 transition-colors`},i(V.value?`Sending...`:`Send Native Asset`),9,j)])])])}}});export{M as default};